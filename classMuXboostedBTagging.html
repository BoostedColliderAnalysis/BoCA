<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.11"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <title>BoCA: MuXboostedBTagging Class Reference</title>
        <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
        <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
        <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="doxy-boot.js"></script>
    </head>
    <body>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand" href="index.html">Boosted Collider Analysis (BoCA) 0.3.0</a>
                </div>
            </div>
        </nav>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 panel " style="padding-bottom: 15px;">
                            <div style="margin-bottom: 15px;">
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">MuXboostedBTagging Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="MuXboostedBTagging_8hh_source.html">MuXboostedBTagging.hh</a>&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classMuXboostedBTagging.html">MuXboostedBTagging</a> tags high-pT heavy flavor jets using a muonic tag &ndash;&gt; see [arXiv:1511.05990] for a full discussion of the physics. &ndash;&gt; see &lt;delphes/doc/MuXboostedBTagging/MuX_UserGuide.pdf&gt; for a quick description of the module &ndash;&gt; check <a href="https://github.com/keith-pedersen/delphes/tree/MuXboostedBTagging">https://github.com/keith-pedersen/delphes/tree/MuXboostedBTagging</a> for updates</p>
<p>One of the crucial features of <a class="el" href="classMuXboostedBTagging.html">MuXboostedBTagging</a> is that it ALTERS the pT of tagged jets, which come from semi-leptonic decay by construction, and thus are always missing neutrino energy.</p>
<p><a class="el" href="classMuXboostedBTagging.html">MuXboostedBTagging</a> accounts for this missing energy by ESTIMATING the neutrino's energy (currently using the simplest choice pNu=pMu, from the shared boost). Thus, "taggable" muons are added a second time to jets that are tagged.</p>
<p>Therefore, in addition to altering the BTag bit of the original jet, (for which no neutrino estimation is performed), <a class="el" href="classMuXboostedBTagging.html">MuXboostedBTagging</a> also clones the list of jets (adding neutrino energy when they pass the tag).</p>
<p>NOTE: This module gives more accurate light jet fake rates when used in conjunction with AllParticlePropagator (which simulates the initial bending of in-flight Pion/Kaon decays to muons).</p>
<p>The algorithm synopsis</p>
<ol type="1">
<li>Clone each jet into the output array, regardless of whether it's tagged.</li>
<li>Look for jets passing a preliminary pT cut (no less than half the final cut, since neutrino estimation could potentially double a jet's pT) 2a. (ptJet &gt;= 0.5*fMinJetPt)</li>
<li>Look inside the jet for at least one "taggable" muon (muon pT &gt;= fMinMuonPt). WARNING: This requires muons to be clustered into jets during the initial jet clustering; <a class="el" href="classMuXboostedBTagging.html">MuXboostedBTagging</a> does not take a muon input array. 3a. (ptMu &gt;= fMinMuonPt) 3b. After all "taggable" neutrinos are found, ensure that the final jet pT (with neutrino estimation) can possibly pass the pT cut (ptJet [with neutrinos] &gt; fMinJetPt).</li>
<li>Reconstruct the subjet of the semi-leptonic decay 4a. Recluster the jet (discarding towers whose pT ratio, to the original jet pT, is less than fMinTowerPtRatio), using anti-kt with radius fCoreAntiktR. 4b. The mass of the core is poorly measured, constrain it to fCoreMassHypothesis. 4c. Search through the list of candidate cores and, if their boost is greater than fCoreMinBoost, calculate the mass of the resulting subjet (using only the hardest muon). 4d. The "correct" core is the one which produces mSubjet closest to fSubjetMassHypothesis.</li>
<li>Calculate x 5a. x = tan(thetaLab)*Esubjet/mSubjet. However, restrict mSubjet to be no larger than fMaxSubjetMass (in case of a poorly reconstructed subjet).</li>
<li>Calculate fSubjet 6a. fSubjet = pTsubjet/pTjet (account for neutrino estimation).</li>
<li>Tag the jet 7a. If (x &lt;= fMaxX) and (f &gt;= fSubjet), tag both the original jet and the clone (using fBitNumber in the BTag field). 7b. If the jet is tagged, add the neutrino pT to the clone.</li>
</ol>
<dl class="section author"><dt>Author</dt><dd>K. Pedersen - Illinois Institute of Technology </dd></dl>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li>boca/external/<a class="el" href="MuXboostedBTagging_8hh_source.html">MuXboostedBTagging.hh</a></li>
</ul>
</div><!-- contents -->
</div>
</div>
</div>
</div>
</div>
</body>
</html>
